@model MultiPlug.Ext.RasPi.Config.Models.Settings.Home

<form action="" method="post" accept-charset="utf-8" enctype="application/x-www-form-urlencoded">
    <section class="row-fluid">

        <div class="row-fluid">
            <div class="box">
                <div class="span3">
                    <a style="line-height: 52px;" href="#"><img alt="Raspberry Pi Logo" src="assets/raspi-config/images/raspberry-pi.png"></a>
                </div>
                <div class="span6">
                    <p style="font-size:26px; line-height: 54px; text-align: center; margin: 0px;">Raspbery Pi Config</p>
                </div>
                <div class="span3" style="text-align: right;">
                    <button id="btn-save" type="submit" value="submit" style="height:54px; width:65px" class="item btn btn-green"><i class="icon-save icon-large"></i><p>Save</p></button>
                </div>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span6">
                <h3 class="box-header">Ethernet (eth0)</h3>
                <div class="box">

                    <div class="row-fluid"><div class="span12"><b>IP Address</b></div></div>
                    <div class="row-fluid"><div class="span12"><input name="Eth0IPAddress" class="input-block-level" type="text" value="@Model.Eth0IPAddress"></div></div>

                    <div class="row-fluid"><div class="span12"><b>IP 6 Address</b></div></div>
                    <div class="row-fluid"><div class="span12"><input name="Eth0IP6Address" class="input-block-level" type="text" value="@Model.Eth0IP6Address"></div></div>
                    <div class="row-fluid">
                        <table id="Eth0RoutersTable" class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="span10">Routers</th>
                                    <th class="span2"></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var Eth0Router in @Model.Eth0Routers)
                                {
                                    <tr>
                                        <td class="span10"><input name="Eth0Routers" class="input-block-level" type="text" value="@Eth0Router"></td>
                                        <td class="span2"><button type="button" class="btn btn-red btn-deletecolumn"><i class="icon-trash"></i></button></td>
                                    </tr>
                                }

                                <tr>
                                    <td class="span10"></td>
                                    <td class="span2"><button type="button" class="btn btn-green" id="btn-neweth0router"><i class="icon-plus"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row-fluid">
                        <table id="Eth0DNSsTable" class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="span10">Domain Name Servers</th>
                                    <th class="span2"></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var Eth0DomainNameServer in @Model.Eth0DomainNameServers)
                                {
                                    <tr>
                                        <td class="span10"><input name="Eth0DomainNameServers" class="input-block-level" type="text" value="@Eth0DomainNameServer"></td>
                                        <td class="span2"><button type="button" class="btn btn-red btn-deletecolumn"><i class="icon-trash"></i></button></td>
                                    </tr>
                                }

                                <tr>
                                    <td class="span10"></td>
                                    <td class="span2"><button type="button" class="btn btn-green" id="btn-neweth0dns"><i class="icon-plus"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="span6">
                <h3 class="box-header">WiFi (wlan0)</h3>
                <div class="box">

                    <div class="row-fluid"><div class="span12"><b>IP Address</b></div></div>
                    <div class="row-fluid"><div class="span12"><input name="Wlan0IPAddress" class="input-block-level" type="text" value="@Model.Wlan0IPAddress"></div></div>

                    <div class="row-fluid"><div class="span12"><b>IP 6 Address</b></div></div>
                    <div class="row-fluid"><div class="span12"><input name="Wlan0IP6Address" class="input-block-level" type="text" value="@Model.Wlan0IP6Address"></div></div>

                    <div class="row-fluid">
                        <table id="Wlan0RoutersTable" class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="span10">Routers</th>
                                    <th class="span2"></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var Wlan0Router in @Model.Wlan0Routers)
                                {
                                    <tr>
                                        <td class="span10"><input name="Wlan0Routers" class="input-block-level" type="text" value="@Wlan0Router"></td>
                                        <td class="span2"><button type="button" class="btn btn-red btn-deletecolumn"><i class="icon-trash"></i></button></td>
                                    </tr>
                                }

                                <tr>
                                    <td class="span10"></td>
                                    <td class="span2"><button type="button" class="btn btn-green" id="btn-newwlan0router"><i class="icon-plus"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row-fluid">
                        <table id="Wlan0DNSsTable" class="table table-striped">
                            <thead>
                                <tr>
                                    <th class="span10">Domain Name Servers</th>
                                    <th class="span2"></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var Wlan0DomainNameServer in @Model.Wlan0DomainNameServers)
                                {
                                    <tr>
                                        <td class="span10"><input name="Wlan0DomainNameServers" class="input-block-level" type="text" value="@Wlan0DomainNameServer"></td>
                                        <td class="span2"><button type="button" class="btn btn-red btn-deletecolumn"><i class="icon-trash"></i></button></td>
                                    </tr>
                                }

                                <tr>
                                    <td class="span10"></td>
                                    <td class="span2"><button type="button" class="btn btn-green" id="btn-newwlan0dns"><i class="icon-plus"></i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
</form>

<script>

    function NewRow(theName) {
return '<tr>\
<td class="span10"><input name="' + theName +'" class="input-block-level" type="text" value=""></td>\
<td class="span2"><button type="button" class="btn btn-red btn-deletecolumn"><i class="icon-trash"></i></button></td>\
</tr>'
    }

    var SaveWarningTimer;

    function SaveWarning() {
        if ($("#btn-save").hasClass("btn-green"))
        {
            $("#btn-save").removeClass("btn-green")
        }
        else
        {
            $("#btn-save").addClass("btn-green")
        }
    }

    function ApplyOnClickDeleteColumn() {

        $(".btn-deletecolumn").click(function (event) {
            event.preventDefault();
            $(this).closest("tr").remove();

            if (!SaveWarningTimer) {
                SaveWarningTimer = setInterval(SaveWarning, 700);
            }
        });
    }


    $(".btn-deletecolumn").click(function (event) {
        event.preventDefault();
        $(this).closest("tr").remove();;
    });

    $("#btn-neweth0router").click(function () {
        $('#Eth0RoutersTable tr:last').before(NewRow('Eth0Routers'));
        ApplyOnClickDeleteColumn();
    });

    $("#btn-neweth0dns").click(function () {
        $('#Eth0DNSsTable tr:last').before(NewRow('Eth0DomainNameServers'));
        ApplyOnClickDeleteColumn();
    });

    $("#btn-newwlan0router").click(function () {
        $('#Wlan0RoutersTable tr:last').before(NewRow('Wlan0Routers'));
        ApplyOnClickDeleteColumn();
    });

    $("#btn-newwlan0dns").click(function () {
        $('#Wlan0DNSsTable tr:last').before(NewRow('Wlan0DomainNameServers'));
        ApplyOnClickDeleteColumn();
    });

    ApplyOnClickDeleteColumn();
</script>